# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: media
description: Media server ublue image

base-image: ghcr.io/ublue-os/ucore-minimal
image-version: stable-nvidia

modules:
  - type: files
    files:
      - source: system
        destination: /

  - type: rpm-ostree
#    repos:
    # - https://copr.fedorainfracloud.org/coprs/atim/starship/repo/fedora-%OS_VERSION%/atim-starship-fedora-%OS_VERSION%.repo
    install:
      - btop
      - zsh
#    remove:

  - type: systemd
    system:
      enabled:
        - var-mnt-media.mount
        - podman.service
        - plex.service
        - cockpit.service

  - type: signing # this sets up the proper policy & signing files for signed images to work fully
